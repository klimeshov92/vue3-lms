import{_,r as n,o as b,c as u,d as s,n as w,p as c,v as y,q as k,t as x,u as R,l as p,s as h,h as P,j as q,i as I,x as S}from"./index-dWaDSvEZ.js";const T={key:0},V={class:"login-outer"},U={class:"login-inner"},C={class:"login-card"},D={class:"login-form-field"},M={class:"login-form-field"},B={class:"password-wrapper"},L=["type"],j={key:1,class:"loading"},E={__name:"Login",setup(H){const l=R(),r=n(""),i=n(""),a=n(!1),d=n(!1),g=async()=>{try{console.log("–ù–∞—á–∞–ª–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –≤—Ö–æ–¥–∞"),localStorage.removeItem("access_token"),h(),console.log("–¢–æ–∫–µ–Ω –∏ user_id –æ—á–∏—â–µ–Ω—ã"),console.log("–û—Ç–ø—Ä–∞–≤–∫–∞ POST-–∑–∞–ø—Ä–æ—Å–∞ –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏");const e=await P.post(`${q}/token/`,{username:r.value,password:i.value});console.log("–û—Ç–≤–µ—Ç –Ω–∞ –∑–∞–ø—Ä–æ—Å –≤—Ö–æ–¥–∞:",e.data),localStorage.setItem("access_token",e.data.access),console.log("–¢–æ–∫–µ–Ω –¥–æ—Å—Ç—É–ø–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤ localStorage");const o=I(e.data.access);o?(S(o.user_id),console.log("ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω:",o.user_id)):console.warn("–¢–æ–∫–µ–Ω –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω");const t=l.currentRoute.value.query.redirect||{name:"HomePage"};console.log("–ü—É—Ç—å –¥–ª—è –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è:",t),l.push(t),console.log("–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω")}catch(e){console.error("–û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞:",e),alert("–û—à–∏–±–∫–∞ –≤—Ö–æ–¥–∞, –ø—Ä–æ–≤–µ—Ä—å—Ç–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ")}},m=()=>{a.value=!a.value},v=()=>{l.push({name:"Register"})},f=()=>{l.push({name:"PasswordResetRequest"})};return b(async()=>{console.log("–ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω, –Ω–∞—á–∏–Ω–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É –¥–∞–Ω–Ω—ã—Ö...");try{d.value=!0}catch(e){console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö:",e)}}),(e,o)=>d.value?(p(),u("div",T,[s("div",V,[s("div",U,[s("div",C,[o[5]||(o[5]=s("div",{class:"login-header"},[s("h1",null,"–ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è")],-1)),s("form",{onSubmit:w(g,["prevent"]),id:"login-form",class:"login-form"},[s("div",D,[o[2]||(o[2]=s("label",{for:"username",class:"login-form-label"},"–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:",-1)),c(s("input",{"onUpdate:modelValue":o[0]||(o[0]=t=>r.value=t),class:"form-input",id:"username",type:"text",required:""},null,512),[[y,r.value]])]),s("div",M,[o[3]||(o[3]=s("label",{for:"password",class:"login-form-label"},"–ü–∞—Ä–æ–ª—å:",-1)),s("div",B,[c(s("input",{"onUpdate:modelValue":o[1]||(o[1]=t=>i.value=t),class:"form-input password-input",id:"password",type:a.value?"text":"password",required:""},null,8,L),[[k,i.value]]),s("span",{onClick:m,class:"toggle-password"},x(a.value?"üëÅÔ∏è":"üëÅÔ∏è‚Äçüó®Ô∏è"),1)])])],32),s("div",{class:"login-menu button-group"},[o[4]||(o[4]=s("button",{type:"submit",form:"login-form",class:"button"},"–í–æ–π—Ç–∏",-1)),s("button",{type:"button",onClick:v,class:"button"},"–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è"),s("button",{type:"button",onClick:f,class:"button"},"C–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è")])])])])])):(p(),u("div",j,[...o[6]||(o[6]=[s("div",null,"–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...",-1)])]))}},O=_(E,[["__scopeId","data-v-0b6d7b16"]]);export{O as default};
