import{r as b,a as X,k as me,B as T,o as ce,c as r,d as s,b as u,p as V,y as O,C as p,f as c,w as d,t as f,v as I,n as fe,i as _,u as ve,h as y,j as g,l as i}from"./index-BlU-7-2d.js";import{s as v}from"./custom-multiselect-D-HMaYL6.js";import{E as be}from"./EditorComponent-Q0CXIZSB.js";const ke={key:0},_e={key:0,class:"form-page"},ye={class:"form-field"},ge=["disabled"],we={key:0,class:"form-field"},Ve={key:0,class:"error"},xe={key:1,class:"form-field"},Ue={key:0,class:"error"},$e={class:"form-field"},Te={key:0,class:"error"},Oe={key:2,class:"form-field"},Ie={key:0,class:"error"},Be={key:3,class:"form-field"},Se={key:0,class:"error"},Re={key:4,class:"form-field"},Ae={key:0,class:"error"},ze={key:5,class:"form-field"},Le={key:0,class:"error"},qe={key:6,class:"form-field"},Ce={key:0,class:"error"},je={key:7,class:"form-field"},Ee={key:0,class:"error"},De={class:"form-field"},Me={key:0,class:"error"},Ne={class:"form-field form-field-full_width"},Fe={key:0,class:"error"},Je={class:"form-field"},Pe={key:8,class:"form-field"},Ge={class:"form-field"},He={class:"form-field"},Ke={key:0,class:"error"},Qe={class:"form-field"},We={key:9,class:"form-field"},Xe={key:0,class:"error"},Ye={class:"form-field"},Ze={class:"form-field"},he={key:0,class:"error"},el={class:"form-field"},ll={class:"form-field"},sl={class:"form-field"},tl={class:"form-field"},al={key:0,class:"error"},ol={class:"form-field"},nl={key:1,class:"none-card"},rl={key:1,class:"loading"},ml={__name:"TaskEdit",setup(il){const B=me(),m=ve(),k=b(null),l=X({interaction:null,is_child:!1,plan:null,item:null,task_type:"",material:null,new:null,course:null,test:null,slot_select:!0,event_template:null,event_slot:null,name:"",manual:"",desc:"",require_review:!1,deadline:!1,planned_start:null,planned_end:null,waiting:!1,executor:null,co_executors:[],controllers:[],observers:[],task_outcome:!1,categories:[]}),F=b(!1),J=[{label:"Обычная задача",value:"common_task"},{label:"Реализация плана",value:"plan_implementation"},{label:"Чтение новостей",value:"news_reading"},{label:"Ознакомление с материалом",value:"material_review"},{label:"Прохождение теста",value:"test_taking"},{label:"Изучение курса",value:"course_study"},{label:"Участие в мероприятии",value:"event_participation"}],A=b([]),Y=async()=>{let t=localStorage.getItem("access_token");const e=_(t);if(t&&!e){m.push({name:"Login"});return}try{const a=await y.get(`${g}/interactions/`,{headers:{Authorization:`Bearer ${t}`}});A.value=a.data.results||[],console.log("Взаимодействия загружены:",A.value)}catch(a){console.error("Ошибка при загрузке взимодействий:",a.response?a.response.data:a.message)}},z=b([]),L=b([]),Z=async()=>{let t=localStorage.getItem("access_token");const e=_(t);if(t&&!e){m.push({name:"Login"});return}try{const a=await y.get(`${g}/tasks/`,{headers:{Authorization:`Bearer ${t}`}});z.value=a.data.results||[],console.log("Задачи загружены:",z.value),L.value=z.value.filter(w=>w.task_type==="plan_implementation"),console.log("Планы загружены:",L.value)}catch(a){console.error("Ошибка при загрузке задач:",a.response?a.response.data:a.message)}},P=B.query.planId||"",$=b([]),h=async()=>{let t=localStorage.getItem("access_token");const e=_(t);if(t&&!e){m.push({name:"Login"});return}try{const a=await y.get(`${g}/accounts/`,{headers:{Authorization:`Bearer ${t}`}});$.value=a.data.results||[],console.log("Аккаунты загружены:",$.value)}catch(a){console.error("Ошибка при загрузке сотрудников:",a.response?a.response.data:a.message)}},q=b([]),ee=async()=>{let t=localStorage.getItem("access_token");const e=_(t);if(t&&!e){m.push({name:"Login"});return}try{const a=await y.get(`${g}/categories/`,{headers:{Authorization:`Bearer ${t}`}});q.value=a.data.results||[],console.log("Категории загружены:",q.value)}catch(a){console.error("Ошибка при загрузке категорий:",a.response?a.response.data:a.message)}},C=b([]),le=async()=>{let t=localStorage.getItem("access_token");const e=_(t);if(t&&!e){m.push({name:"Login"});return}try{const a=await y.get(`${g}/materials/`,{headers:{Authorization:`Bearer ${t}`}});C.value=a.data.results||[],console.log("Материалы загружены:",C.value)}catch(a){console.error("Ошибка при загрузке материалов:",a.response?a.response.data:a.message)}},j=b([]),se=async()=>{let t=localStorage.getItem("access_token");const e=_(t);if(t&&!e){m.push({name:"Login"});return}try{const a=await y.get(`${g}/news/`,{headers:{Authorization:`Bearer ${t}`}});j.value=a.data.results||[],console.log("Новости загружены:",j.value)}catch(a){console.error("Ошибка при загрузке новостей:",a.response?a.response.data:a.message)}},E=b([]),te=async()=>{let t=localStorage.getItem("access_token");const e=_(t);if(t&&!e){m.push({name:"Login"});return}try{const a=await y.get(`${g}/courses/`,{headers:{Authorization:`Bearer ${t}`}});E.value=a.data.results||[],console.log("Курсы загружены:",E.value)}catch(a){console.error("Ошибка при загрузке курсов:",a.response?a.response.data:a.message)}},D=b([]),ae=async()=>{let t=localStorage.getItem("access_token");const e=_(t);if(t&&!e){m.push({name:"Login"});return}try{const a=await y.get(`${g}/tests/`,{headers:{Authorization:`Bearer ${t}`}});D.value=a.data.results||[],console.log("Тесты загружены:",D.value)}catch(a){console.error("Ошибка при загрузке тестов:",a.response?a.response.data:a.message)}},S=b([]),oe=async()=>{let t=localStorage.getItem("access_token");const e=_(t);if(t&&!e){m.push({name:"Login"});return}try{const a=await y.get(`${g}/event_templates/`,{headers:{Authorization:`Bearer ${t}`}});S.value=a.data.results||[],console.log("Мероприятия загружены:",S.value)}catch(a){console.error("Ошибка при загрузке мероприятий:",a.response?a.response.data:a.message)}},M=b([]),ne=async()=>{let t=localStorage.getItem("access_token");const e=_(t);if(t&&!e){m.push({name:"Login"});return}try{const a=await y.get(`${g}/event_slots/`,{headers:{Authorization:`Bearer ${t}`}});M.value=a.data.results||[],console.log("Слоты мероприятий загружены:",M.value)}catch(a){console.error("Ошибка при загрузке слотов мероприятий:",a.response?a.response.data:a.message)}},re=async()=>{var w;const t=B.params.id;let e=localStorage.getItem("access_token");const a=_(e);if(e&&!a){m.push({name:"Login"});return}try{const o=await y.get(`${g}/tasks/${t}/`,{headers:{Authorization:`Bearer ${e}`}});k.value=o.data,console.log("Объект успешно загружен:",k.value),k.value.task_type=J.find(R=>R.value===k.value.task_type),k.value.planned_start=k.value.planned_start.slice(0,16),k.value.planned_end&&(k.value.planned_end=k.value.planned_end.slice(0,16)),console.log("Объект нормализован:",k.value),Object.assign(l,k.value)}catch(o){console.error("Ошибка загрузки объекта:",((w=o.response)==null?void 0:w.data)||o.message)}};T(()=>l.is_child,t=>{t==!1&&(l.plan=null,l.item=null)}),T(()=>l.task_type,t=>{t.value!="common_task"&&t.value!="plan_implementation"&&(l.require_review=!1),t.value!="news_reading"&&(l.new=null),t.value!="material_review"&&(l.material=null),t.value!="course_study"&&(l.course=null),t.value!="test_taking"&&(l.test=null),t.value!="event_participation"&&(l.event_template=null,l.event_slot=null,l.slot_select=!1)}),T(()=>l.slot_select,t=>{t==!0&&(l.event_slot=null)}),T(()=>l.event_slot,t=>{t&&t.event_template&&(l.event_template=S.value.find(e=>e.id===t.event_template))}),T(()=>l.deadline,t=>{t==!1&&(l.planned_end=null)});const n=X({}),ie=()=>(n.interaction=l.interaction?"":"Выбор взаимодейтсвия обязателен!",l.is_child&&(n.stage=l.plan?"":"Выбор плана обязателен!",n.item=l.item?"":"Порядок пункта обязателен!"),n.task_type=l.task_type.value?"":"Тип задачи обязателен!",(l.task_type=="common_task"||l.task_type=="plan_implementation")&&(n.manual=l.manual.trim()?"":"Содержание обязательно!"),l.task_type.value=="news_reading"&&(n.new=l.new?"":"Новость обязательна!"),l.task_type.value=="material_review"&&(n.material=l.material?"":"Материал обязателен!"),l.task_type.value=="course_study"&&(n.course=l.course?"":"Курс обязателен!"),l.task_type.value=="test_taking"&&(n.test=l.test?"":"Тест обязателен!"),l.task_type.value=="event_participation"&&(l.slot_select==!0&&(n.event_template=l.event_template?"":"Мероприятие обязательно!"),l.slot_select==!1&&(n.event_slot=l.event_slot?"":"Слот мероприятия обязателен!")),n.name=l.name?"":"Название обязательно!",n.planned_start=l.planned_start?"":"Выбор начала обязателен",l.deadline&&(n.planned_end=l.planned_end?"":"Выбор завершения обязателен"),n.executor=l.executor?"":"Выбор исполнителя обязателен!",Object.values(n).every(t=>!t)),de=async()=>{var t,e,a,w,o,R,G,H,K;if(!ie()){console.error("Форма содержит ошибки:",n);return}try{const x=B.params.id;let N=localStorage.getItem("access_token");const pe=_(N);if(N&&!pe){m.push({name:"Login"});return}const Q={interaction:(t=l.interaction)==null?void 0:t.id,is_child:l.is_child,plan:(e=l.plan)==null?void 0:e.id,item:l.item,task_type:l.task_type.value,material:(a=l.material)==null?void 0:a.id,new:(w=l.new)==null?void 0:w.id,course:(o=l.course)==null?void 0:o.id,test:(R=l.test)==null?void 0:R.id,slot_select:l.slot_select,event_template:(G=l.event_template)==null?void 0:G.id,event_slot:(H=l.event_slot)==null?void 0:H.id,manual:l.manual||"",desc:l.desc,require_review:l.require_review,name:l.name,deadline:l.deadline,planned_start:l.planned_start,planned_end:l.planned_end,waiting:l.waiting,executor:(K=l.executor)==null?void 0:K.id,co_executors:l.co_executors.map(U=>U.id),controllers:l.controllers.map(U=>U.id),observers:l.observers.map(U=>U.id),task_outcome:l.task_outcome,categories:l.categories.map(U=>U.id)};console.log("JSON данные перед отправкой:",Q),await y.patch(`${g}/tasks/${x}/`,Q,{headers:{Authorization:`Bearer ${N}`}}),console.log("Данные обновлены");const W=B.query.planId||"";W?m.push({name:"TaskDetail",params:{id:W}}):m.push({name:"TaskDetail",params:{id:x}})}catch(x){x.response&&x.response.data?(Object.assign(n,x.response.data),console.error("Ошибка при сохранении изменений:",x.response.data)):console.error("Ошибка при сохранении изменений:",x.message)}},ue=()=>{m.back()};return ce(async()=>{console.log("Компонент смонтирован, начинаем загрузку данных...");try{await Y(),await Z(),await h(),await ee(),await le(),await se(),await te(),await ae(),await oe(),await ne(),await re(),F.value=!0}catch(t){console.error("Ошибка при загрузке данных:",t)}}),(t,e)=>{var a,w;return F.value?(i(),r("div",ke,[k.value?(i(),r("div",_e,[e[77]||(e[77]=s("div",{class:"form-header"},[s("h1",null,"Редактирование задачи")],-1)),s("form",{onSubmit:fe(de,["prevent"]),class:"form",id:"edit-form"},[s("div",ye,[e[25]||(e[25]=s("label",{for:"is_child",class:"form-label"},"Дочерняя:",-1)),V(s("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>l.is_child=o),id:"is_child",type:"checkbox",class:"form-input",disabled:!!p(P)},null,8,ge),[[O,l.is_child]])]),l.is_child?(i(),r("div",we,[e[28]||(e[28]=s("label",{class:"form-label"},"План:",-1)),c(p(v),{modelValue:l.plan,"onUpdate:modelValue":e[1]||(e[1]=o=>l.plan=o),options:L.value,multiple:!1,"close-on-select":!0,"clear-on-select":!1,"preserve-search":!0,placeholder:"Выберите план",label:"str","track-by":"id","preselect-first":!1,"select-label":"","deselect-label":"","selected-label":"",disabled:!!p(P)},{noOptions:d(()=>[...e[26]||(e[26]=[s("span",null,"Список пуст",-1)])]),noResult:d(()=>[...e[27]||(e[27]=[s("span",null,"Ничего не найдено",-1)])]),_:1},8,["modelValue","options","disabled"]),n.plan?(i(),r("span",Ve,f(n.plan),1)):u("",!0)])):u("",!0),l.is_child?(i(),r("div",xe,[e[29]||(e[29]=s("label",{for:"item",class:"form-label"},"Пункт:",-1)),V(s("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>l.item=o),id:"item",type:"number",class:"form-input",placeholder:"Введите пункт"},null,512),[[I,l.item]]),n.item?(i(),r("span",Ue,f(n.item),1)):u("",!0)])):u("",!0),s("div",$e,[e[30]||(e[30]=s("label",{class:"form-label"},"Тип задачи:",-1)),c(p(v),{modelValue:l.task_type,"onUpdate:modelValue":e[3]||(e[3]=o=>l.task_type=o),options:J,searchable:!1,multiple:!1,"close-on-select":!0,"clear-on-select":!0,placeholder:"Выберите тип задачи",label:"label","track-by":"value","preselect-first":!1,"select-label":"","deselect-label":"","selected-label":""},null,8,["modelValue"]),n.task_type?(i(),r("span",Te,f(n.task_type),1)):u("",!0)]),l.task_type.value=="news_reading"?(i(),r("div",Oe,[e[33]||(e[33]=s("label",{class:"form-label"},"Новость:",-1)),c(p(v),{modelValue:l.new,"onUpdate:modelValue":e[4]||(e[4]=o=>l.new=o),options:j.value,multiple:!1,"close-on-select":!0,"clear-on-select":!1,"preserve-search":!0,placeholder:"Выберите новость",label:"str","track-by":"id","preselect-first":!1,"select-label":"","deselect-label":"","selected-label":""},{noOptions:d(()=>[...e[31]||(e[31]=[s("span",null,"Список пуст",-1)])]),noResult:d(()=>[...e[32]||(e[32]=[s("span",null,"Ничего не найдено",-1)])]),_:1},8,["modelValue","options"]),n.new?(i(),r("span",Ie,f(n.new),1)):u("",!0)])):u("",!0),l.task_type.value=="material_review"?(i(),r("div",Be,[e[36]||(e[36]=s("label",{class:"form-label"},"Материал:",-1)),c(p(v),{modelValue:l.material,"onUpdate:modelValue":e[5]||(e[5]=o=>l.material=o),options:C.value,multiple:!1,"close-on-select":!0,"clear-on-select":!1,"preserve-search":!0,placeholder:"Выберите материал",label:"str","track-by":"id","preselect-first":!1,"select-label":"","deselect-label":"","selected-label":""},{noOptions:d(()=>[...e[34]||(e[34]=[s("span",null,"Список пуст",-1)])]),noResult:d(()=>[...e[35]||(e[35]=[s("span",null,"Ничего не найдено",-1)])]),_:1},8,["modelValue","options"]),n.material?(i(),r("span",Se,f(n.material),1)):u("",!0)])):u("",!0),l.task_type.value=="course_study"?(i(),r("div",Re,[e[39]||(e[39]=s("label",{class:"form-label"},"Курс:",-1)),c(p(v),{modelValue:l.course,"onUpdate:modelValue":e[6]||(e[6]=o=>l.course=o),options:E.value,multiple:!1,"close-on-select":!0,"clear-on-select":!1,"preserve-search":!0,placeholder:"Выберите курс",label:"str","track-by":"id","preselect-first":!1,"select-label":"","deselect-label":"","selected-label":""},{noOptions:d(()=>[...e[37]||(e[37]=[s("span",null,"Список пуст",-1)])]),noResult:d(()=>[...e[38]||(e[38]=[s("span",null,"Ничего не найдено",-1)])]),_:1},8,["modelValue","options"]),n.course?(i(),r("span",Ae,f(n.course),1)):u("",!0)])):u("",!0),l.task_type.value=="test_taking"?(i(),r("div",ze,[e[42]||(e[42]=s("label",{class:"form-label"},"Тест:",-1)),c(p(v),{modelValue:l.test,"onUpdate:modelValue":e[7]||(e[7]=o=>l.test=o),options:D.value,multiple:!1,"close-on-select":!0,"clear-on-select":!1,"preserve-search":!0,placeholder:"Выберите тест",label:"str","track-by":"id","preselect-first":!1,"select-label":"","deselect-label":"","selected-label":""},{noOptions:d(()=>[...e[40]||(e[40]=[s("span",null,"Список пуст",-1)])]),noResult:d(()=>[...e[41]||(e[41]=[s("span",null,"Ничего не найдено",-1)])]),_:1},8,["modelValue","options"]),n.test?(i(),r("span",Le,f(n.test),1)):u("",!0)])):u("",!0),l.task_type.value=="event_participation"?(i(),r("div",qe,[e[45]||(e[45]=s("label",{class:"form-label"},"Мероприятие:",-1)),c(p(v),{modelValue:l.event_template,"onUpdate:modelValue":e[8]||(e[8]=o=>l.event_template=o),options:S.value,multiple:!1,"close-on-select":!0,"clear-on-select":!1,"preserve-search":!0,placeholder:"Выберите мероприятие",label:"str","track-by":"id","preselect-first":!1,"select-label":"","deselect-label":"","selected-label":"",disabled:!l.slot_select},{noOptions:d(()=>[...e[43]||(e[43]=[s("span",null,"Список пуст",-1)])]),noResult:d(()=>[...e[44]||(e[44]=[s("span",null,"Ничего не найдено",-1)])]),_:1},8,["modelValue","options","disabled"]),n.event_template?(i(),r("span",Ce,f(n.event_template),1)):u("",!0)])):u("",!0),l.task_type.value=="event_participation"&&!l.slot_select?(i(),r("div",je,[e[48]||(e[48]=s("label",{class:"form-label"},"Слот мероприятия:",-1)),c(p(v),{modelValue:l.event_slot,"onUpdate:modelValue":e[9]||(e[9]=o=>l.event_slot=o),options:M.value,multiple:!1,"close-on-select":!0,"clear-on-select":!1,"preserve-search":!0,placeholder:"Выберите слот мероприятия",label:"str","track-by":"id","preselect-first":!1,"select-label":"","deselect-label":"","selected-label":""},{noOptions:d(()=>[...e[46]||(e[46]=[s("span",null,"Список пуст",-1)])]),noResult:d(()=>[...e[47]||(e[47]=[s("span",null,"Ничего не найдено",-1)])]),_:1},8,["modelValue","options"]),n.event_slot?(i(),r("span",Ee,f(n.event_slot),1)):u("",!0)])):u("",!0),s("div",De,[e[49]||(e[49]=s("label",{for:"name",class:"form-label"},"Название:",-1)),V(s("input",{"onUpdate:modelValue":e[10]||(e[10]=o=>l.name=o),id:"name",type:"text",class:"form-input",placeholder:"Введите название",required:""},null,512),[[I,l.name]]),n.name?(i(),r("span",Me,f(n.name),1)):u("",!0)]),s("div",Ne,[e[50]||(e[50]=s("label",{for:"desc",class:"form-label"},"Содержание:",-1)),c(be,{modelValue:l.manual,"onUpdate:modelValue":e[11]||(e[11]=o=>l.manual=o)},null,8,["modelValue"]),n.manual?(i(),r("span",Fe,f(n.manual),1)):u("",!0)]),s("div",Je,[e[51]||(e[51]=s("label",{for:"desc",class:"form-label"},"Описание:",-1)),V(s("textarea",{"onUpdate:modelValue":e[12]||(e[12]=o=>l.desc=o),id:"desc",class:"form-input",rows:"3",placeholder:"Введите описание"},null,512),[[I,l.desc]])]),((a=l.task_type)==null?void 0:a.value)=="common_task"||((w=l.task_type)==null?void 0:w.value)=="plan_implementation"?(i(),r("div",Pe,[e[52]||(e[52]=s("label",{for:"require_review",class:"form-label"},"Требуется проверка:",-1)),V(s("input",{"onUpdate:modelValue":e[13]||(e[13]=o=>l.require_review=o),id:"require_review",type:"checkbox",class:"form-input"},null,512),[[O,l.require_review]])])):u("",!0),s("div",Ge,[e[53]||(e[53]=s("label",{for:"task_outcome",class:"form-label"},"Итог задачи:",-1)),V(s("input",{"onUpdate:modelValue":e[14]||(e[14]=o=>l.task_outcome=o),id:"task_outcome",type:"checkbox",class:"form-input"},null,512),[[O,l.task_outcome]])]),s("div",He,[e[54]||(e[54]=s("label",{for:"planned_start",class:"form-label"},"Начало по плану:",-1)),V(s("input",{"onUpdate:modelValue":e[15]||(e[15]=o=>l.planned_start=o),id:"planned_start",type:"datetime-local",class:"form-input"},null,512),[[I,l.planned_start]]),n.planned_start?(i(),r("span",Ke,f(n.planned_start),1)):u("",!0)]),s("div",Qe,[e[55]||(e[55]=s("label",{for:"deadline",class:"form-label"},"Сроки:",-1)),V(s("input",{"onUpdate:modelValue":e[16]||(e[16]=o=>l.deadline=o),id:"deadline",type:"checkbox",class:"form-input"},null,512),[[O,l.deadline]])]),l.deadline?(i(),r("div",We,[e[56]||(e[56]=s("label",{for:"planned_end",class:"form-label"},"Завершение по плану:",-1)),V(s("input",{"onUpdate:modelValue":e[17]||(e[17]=o=>l.planned_end=o),id:"planned_end",type:"datetime-local",class:"form-input"},null,512),[[I,l.planned_end]]),n.planned_end?(i(),r("span",Xe,f(n.planned_end),1)):u("",!0)])):u("",!0),s("div",Ye,[e[57]||(e[57]=s("label",{for:"waiting",class:"form-label"},"Ожидает активации:",-1)),V(s("input",{"onUpdate:modelValue":e[18]||(e[18]=o=>l.waiting=o),id:"waiting",type:"checkbox",class:"form-input"},null,512),[[O,l.waiting]])]),s("div",Ze,[e[60]||(e[60]=s("label",{class:"form-label"},"Исполнитель:",-1)),c(p(v),{modelValue:l.executor,"onUpdate:modelValue":e[19]||(e[19]=o=>l.executor=o),options:$.value,multiple:!1,"close-on-select":!0,"clear-on-select":!1,"preserve-search":!0,placeholder:"Выберите исполнителя",label:"str","track-by":"id","preselect-first":!1,"select-label":"","deselect-label":"","selected-label":""},{noOptions:d(()=>[...e[58]||(e[58]=[s("span",null,"Список пуст",-1)])]),noResult:d(()=>[...e[59]||(e[59]=[s("span",null,"Ничего не найдено",-1)])]),_:1},8,["modelValue","options"]),n.executor?(i(),r("span",he,f(n.executor),1)):u("",!0)]),s("div",el,[e[63]||(e[63]=s("label",{class:"form-label"},"Соисполнители:",-1)),c(p(v),{modelValue:l.co_executors,"onUpdate:modelValue":e[20]||(e[20]=o=>l.co_executors=o),options:$.value,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"preserve-search":!0,placeholder:"Выберите соисполнителей",label:"str","track-by":"id","preselect-first":!1,"select-label":"","deselect-label":"","selected-label":""},{noOptions:d(()=>[...e[61]||(e[61]=[s("span",null,"Список пуст",-1)])]),noResult:d(()=>[...e[62]||(e[62]=[s("span",null,"Ничего не найдено",-1)])]),_:1},8,["modelValue","options"])]),s("div",ll,[e[66]||(e[66]=s("label",{class:"form-label"},"Контролеры:",-1)),c(p(v),{modelValue:l.controllers,"onUpdate:modelValue":e[21]||(e[21]=o=>l.controllers=o),options:$.value,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"preserve-search":!0,placeholder:"Выберите конролеров",label:"str","track-by":"id","preselect-first":!1,"select-label":"","deselect-label":"","selected-label":""},{noOptions:d(()=>[...e[64]||(e[64]=[s("span",null,"Список пуст",-1)])]),noResult:d(()=>[...e[65]||(e[65]=[s("span",null,"Ничего не найдено",-1)])]),_:1},8,["modelValue","options"])]),s("div",sl,[e[69]||(e[69]=s("label",{class:"form-label"},"Наблюдатели:",-1)),c(p(v),{modelValue:l.observers,"onUpdate:modelValue":e[22]||(e[22]=o=>l.observers=o),options:$.value,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"preserve-search":!0,placeholder:"Выберите наблюдателей",label:"str","track-by":"id","preselect-first":!1,"select-label":"","deselect-label":"","selected-label":""},{noOptions:d(()=>[...e[67]||(e[67]=[s("span",null,"Список пуст",-1)])]),noResult:d(()=>[...e[68]||(e[68]=[s("span",null,"Ничего не найдено",-1)])]),_:1},8,["modelValue","options"])]),s("div",tl,[e[72]||(e[72]=s("label",{class:"form-label"},"Взаимодействие:",-1)),c(p(v),{modelValue:l.interaction,"onUpdate:modelValue":e[23]||(e[23]=o=>l.interaction=o),options:A.value,multiple:!1,"close-on-select":!0,"clear-on-select":!1,"preserve-search":!0,placeholder:"Выберите взаимодействие",label:"str","track-by":"id","preselect-first":!1,"select-label":"","deselect-label":"","selected-label":""},{noOptions:d(()=>[...e[70]||(e[70]=[s("span",null,"Список пуст",-1)])]),noResult:d(()=>[...e[71]||(e[71]=[s("span",null,"Ничего не найдено",-1)])]),_:1},8,["modelValue","options"]),n.interaction?(i(),r("span",al,f(n.interaction),1)):u("",!0)]),s("div",ol,[e[75]||(e[75]=s("label",{class:"form-label"},"Категории:",-1)),c(p(v),{modelValue:l.categories,"onUpdate:modelValue":e[24]||(e[24]=o=>l.categories=o),options:q.value,multiple:!0,"close-on-select":!1,"clear-on-select":!1,"preserve-search":!0,placeholder:"Выберите категории",label:"name","track-by":"id","preselect-first":!1,"select-label":"","deselect-label":"","selected-label":""},{noOptions:d(()=>[...e[73]||(e[73]=[s("span",null,"Список пуст",-1)])]),noResult:d(()=>[...e[74]||(e[74]=[s("span",null,"Ничего не найдено",-1)])]),_:1},8,["modelValue","options"])])],32),s("div",{class:"form-menu button-group"},[e[76]||(e[76]=s("button",{type:"submit",class:"button",form:"edit-form"},"Сохранить",-1)),s("button",{type:"button",onClick:ue,class:"button"},"Отмена")])])):(i(),r("div",nl,[...e[78]||(e[78]=[s("div",null,"Объект не найден",-1)])]))])):(i(),r("div",rl,[...e[79]||(e[79]=[s("div",null,"Загрузка данных...",-1)])]))}}};export{ml as default};
