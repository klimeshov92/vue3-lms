import{a as g,r as w,o as P,c as t,d as s,n as _,p as c,b as d,v as V,t as n,q as j,m,f as R,w as U,g as N,y as q,u as S,k as B,l as i,z as D,h as L,j as T}from"./index-_TMNgkFu.js";import"./custom-multiselect-M3BzxD5H.js";const z={key:0},$={class:"form-page"},F={class:"form-field"},I={key:0,class:"error"},J={class:"form-field"},K={key:0,class:"error"},G={class:"form-field"},H={class:"password-wrapper"},Q=["type"],W={key:0,class:"error"},X={class:"form-field"},Y={class:"password-wrapper"},Z=["type"],ee={key:0,class:"error"},se={class:"form-field"},oe={for:"legal_agree",class:"form-label"},ae={key:0,class:"error"},re={class:"form-field"},le={for:"policy_agree",class:"form-label"},te={key:0,class:"error"},ne={class:"form-field form-recaptcha"},ie={key:0,class:"error"},de={key:1,class:"loading"},A="6Lcd_j8sAAAAAOIfvcsO1dE010MxFpBjmuSpazva",me={__name:"Register",setup(pe){B();const y=S(),o=g({username:"",email:"",password:"",password_confirm:"",legal_agree:!1,policy_agree:!1}),v=w(!1),f=w(!1),p=g({password:!1,password_confirm:!1}),b=r=>{p[r]=!p[r]},E=()=>{y.back()};let k=!1;const u=w(null),h=r=>{u.value=r},x=()=>{u.value=null},a=g({}),M=()=>(a.username=o.username?"":"–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!",a.email=o.email?"":"–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –ø–æ—á—Ç–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞!",a.password=o.password?"":"–ü–∞—Ä–æ–ª—å –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω!",a.password_confirm=o.password_confirm?"":"–ü–æ–≤—Ç–æ—Ä –ø–∞—Ä–æ–ª—è –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω!",o.password&&o.password_confirm&&o.password!==o.password_confirm&&(a.password_confirm="–ü–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç!"),a.legal_agree=o.legal_agree==!0?"":"–°–æ–≥–ª–∞—Å–∏–µ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ–º –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!",a.policy_agree=o.policy_agree==!0?"":"–°–æ–≥–ª–∞—Å–∏–µ —Å –ø–æ–ª–∏—Ç–∏–∫–æ–π –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!",a.captcha=u.value?"":"–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ, —á—Ç–æ –≤—ã –Ω–µ —Ä–æ–±–æ—Ç",Object.values(a).every(r=>!r)),O=async()=>{if(!M()){console.error("–§–æ—Ä–º–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –æ—à–∏–±–∫–∏:",a);return}try{console.log("–û—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞:",o),f.value=!0;const r={username:o.username,email:o.email,password:o.password,legal_agree:o.legal_agree,policy_agree:o.policy_agree,frontend_url:D,captcha:u.value};console.log("JSON –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π:",r);const e=await L.post(`${T}/register/`,r,{headers:{Authorization:""}});console.log("–û–±—ä–µ–∫—Ç —Å–æ–∑–¥–∞–Ω:",e.data),f.value=!1,y.push({name:"PostRegister",query:{username:o.username,email:o.email}})}catch(r){r.response&&r.response.data?(Object.assign(a,r.response.data),console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –æ–±—ä–µ–∫—Ç–∞:",r.response.data)):console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –æ–±—ä–µ–∫—Ç–∞:",r.message),window.grecaptcha&&(window.grecaptcha.reset(),u.value=null)}};return P(async()=>{console.log("–ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω, –Ω–∞—á–∏–Ω–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É –¥–∞–Ω–Ω—ã—Ö...");try{window.onCaptchaVerified=h,window.onCaptchaExpired=x,setTimeout(()=>{window.grecaptcha&&!k&&(window.grecaptcha.render(document.querySelector(".g-recaptcha"),{sitekey:A,callback:h,"expired-callback":x}),k=!0)},0),v.value=!0}catch(r){console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö:",r)}}),(r,e)=>{const C=N("RouterLink");return v.value&&!f.value?(i(),t("div",z,[s("div",$,[e[19]||(e[19]=s("div",{class:"form-header"},[s("h1",null,"–°–æ–∑–¥–∞–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞")],-1)),s("form",{onSubmit:_(O,["prevent"]),class:"form",id:"form"},[s("div",F,[e[10]||(e[10]=s("label",{for:"username",class:"form-label"},"–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:",-1)),c(s("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>o.username=l),id:"username",type:"text",class:"form-input",placeholder:"–í–≤–µ–¥–∏—Ç–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞–µ—Ç–ª—è",required:""},null,512),[[V,o.username]]),a.username?(i(),t("span",I,n(a.username),1)):d("",!0)]),s("div",J,[e[11]||(e[11]=s("label",{for:"email",class:"form-label"},"–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –ø–æ—á—Ç–∞:",-1)),c(s("input",{"onUpdate:modelValue":e[1]||(e[1]=l=>o.email=l),id:"email",type:"email",class:"form-input",placeholder:"–í–≤–µ–¥–∏—Ç–µ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—É—é –ø–æ—á—Ç—É",required:""},null,512),[[V,o.email]]),a.email?(i(),t("span",K,n(a.email),1)):d("",!0)]),s("div",G,[e[12]||(e[12]=s("label",{for:"password",class:"form-label"},"–ü–∞—Ä–æ–ª—å:",-1)),s("div",H,[c(s("input",{"onUpdate:modelValue":e[2]||(e[2]=l=>o.password=l),type:p.password?"text":"password",id:"password",class:"form-input password-input",placeholder:"–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å",required:""},null,8,Q),[[j,o.password]]),s("span",{class:"toggle-password",onClick:e[3]||(e[3]=l=>b("password"))},n(p.password?"üëÅÔ∏è":"üëÅÔ∏è‚Äçüó®Ô∏è"),1)]),a.password?(i(),t("span",W,n(a.password),1)):d("",!0)]),s("div",X,[e[13]||(e[13]=s("label",{for:"password_confirm",class:"form-label"},"–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–∞—Ä–æ–ª—å:",-1)),s("div",Y,[c(s("input",{"onUpdate:modelValue":e[4]||(e[4]=l=>o.password_confirm=l),type:p.password_confirm?"text":"password",id:"password_confirm",class:"form-input password-input",placeholder:"–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–∞—Ä–æ–ª—å",required:""},null,8,Z),[[j,o.password_confirm]]),s("span",{class:"toggle-password",onClick:e[5]||(e[5]=l=>b("password_confirm"))},n(p.password_confirm?"üëÅÔ∏è":"üëÅÔ∏è‚Äçüó®Ô∏è"),1)]),a.password_confirm?(i(),t("span",ee,n(a.password_confirm),1)):d("",!0)]),s("div",se,[s("label",oe,[s("span",null,[e[15]||(e[15]=m(" –Ø —Å–æ–≥–ª–∞—Å–µ–Ω —Å ",-1)),R(C,{to:{name:"LegalPage"},target:"_blank",class:"link",onClick:e[6]||(e[6]=_(()=>{},["stop"]))},{default:U(()=>[...e[14]||(e[14]=[m(" –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ–º ",-1)])]),_:1})])]),c(s("input",{"onUpdate:modelValue":e[7]||(e[7]=l=>o.legal_agree=l),id:"legal_agree",type:"checkbox",class:"form-input"},null,512),[[q,o.legal_agree]]),a.legal_agree?(i(),t("span",ae,n(a.legal_agree),1)):d("",!0)]),s("div",re,[s("label",le,[s("span",null,[e[17]||(e[17]=m(" –Ø —Å–æ–≥–ª–∞—Å–µ–Ω —Å ",-1)),R(C,{to:{name:"PolicyPage"},target:"_blank",class:"link",onClick:e[8]||(e[8]=_(()=>{},["stop"]))},{default:U(()=>[...e[16]||(e[16]=[m(" –ø–æ–ª–∏—Ç–∏–∫–æ–π –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏ ",-1)])]),_:1})])]),c(s("input",{"onUpdate:modelValue":e[9]||(e[9]=l=>o.policy_agree=l),id:"policy_agree",type:"checkbox",class:"form-input"},null,512),[[q,o.policy_agree]]),a.policy_agree?(i(),t("span",te,n(a.policy_agree),1)):d("",!0)]),s("div",ne,[s("div",{class:"g-recaptcha","data-sitekey":A,"data-callback":"onCaptchaVerified","data-expired-callback":"onCaptchaExpired"}),a.captcha?(i(),t("span",ie,n(a.captcha),1)):d("",!0)])],32),s("div",{class:"form-menu button-group"},[e[18]||(e[18]=s("button",{type:"submit",class:"button",form:"form"},"–°–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è",-1)),s("button",{type:"button",onClick:E,class:"button"},"–û—Ç–º–µ–Ω–∞")])])])):(i(),t("div",de,[...e[20]||(e[20]=[s("div",null,"–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...",-1)])]))}}};export{me as default};
