import{a as f,r as x,o as O,c as t,d as s,n as g,p as c,b as d,v as C,t as n,q as V,m,f as j,w as R,g as P,y as U,u as N,k as S,l as i,z as B,h as D,j as L}from"./index-DyUQrffO.js";import"./custom-multiselect-J6sEttNg.js";const T={key:0},z={class:"form-page"},$={class:"form-field"},F={key:0,class:"error"},I={class:"form-field"},J={key:0,class:"error"},K={class:"form-field"},G={class:"password-wrapper"},H=["type"],Q={key:0,class:"error"},W={class:"form-field"},X={class:"password-wrapper"},Y=["type"],Z={key:0,class:"error"},ee={class:"form-field"},se={for:"legal_agree",class:"form-label"},oe={key:0,class:"error"},ae={class:"form-field"},re={for:"policy_agree",class:"form-label"},le={key:0,class:"error"},te={class:"form-field form-recaptcha"},ne={key:0,class:"error"},ie={key:1,class:"loading"},q="6Lcd_j8sAAAAAOIfvcsO1dE010MxFpBjmuSpazva",ue={__name:"Register",setup(de){S();const w=N(),o=f({username:"",email:"",password:"",password_confirm:"",legal_agree:!1,policy_agree:!1}),_=x(!1),p=f({password:!1,password_confirm:!1}),y=r=>{p[r]=!p[r]},A=()=>{w.back()};let v=!1;const u=x(null),b=r=>{u.value=r},k=()=>{u.value=null},a=f({}),E=()=>(a.username=o.username?"":"–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!",a.email=o.email?"":"–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –ø–æ—á—Ç–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞!",a.password=o.password?"":"–ü–∞—Ä–æ–ª—å –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω!",a.password_confirm=o.password_confirm?"":"–ü–æ–≤—Ç–æ—Ä –ø–∞—Ä–æ–ª—è –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω!",o.password&&o.password_confirm&&o.password!==o.password_confirm&&(a.password_confirm="–ü–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç!"),a.legal_agree=o.legal_agree==!0?"":"–°–æ–≥–ª–∞—Å–∏–µ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ–º –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!",a.policy_agree=o.policy_agree==!0?"":"–°–æ–≥–ª–∞—Å–∏–µ —Å –ø–æ–ª–∏—Ç–∏–∫–æ–π –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ!",a.captcha=u.value?"":"–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ, —á—Ç–æ –≤—ã –Ω–µ —Ä–æ–±–æ—Ç",Object.values(a).every(r=>!r)),M=async()=>{if(!E()){console.error("–§–æ—Ä–º–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç –æ—à–∏–±–∫–∏:",a);return}try{console.log("–û—Ç–ø—Ä–∞–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞:",o);const r={username:o.username,email:o.email,password:o.password,legal_agree:o.legal_agree,policy_agree:o.policy_agree,frontend_url:B,captcha:u.value};console.log("JSON –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π:",r);const e=await D.post(`${L}/register/`,r,{headers:{Authorization:""}});console.log("–û–±—ä–µ–∫—Ç —Å–æ–∑–¥–∞–Ω:",e.data),w.push({name:"PostRegister",query:{username:o.username,email:o.email}})}catch(r){r.response&&r.response.data?(Object.assign(a,r.response.data),console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –æ–±—ä–µ–∫—Ç–∞:",r.response.data)):console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –æ–±—ä–µ–∫—Ç–∞:",r.message),window.grecaptcha&&(window.grecaptcha.reset(),u.value=null)}};return O(async()=>{console.log("–ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Å–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω, –Ω–∞—á–∏–Ω–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É –¥–∞–Ω–Ω—ã—Ö...");try{window.onCaptchaVerified=b,window.onCaptchaExpired=k,setTimeout(()=>{window.grecaptcha&&!v&&(window.grecaptcha.render(document.querySelector(".g-recaptcha"),{sitekey:q,callback:b,"expired-callback":k}),v=!0)},0),_.value=!0}catch(r){console.error("–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö:",r)}}),(r,e)=>{const h=P("RouterLink");return _.value?(i(),t("div",T,[s("div",z,[e[19]||(e[19]=s("div",{class:"form-header"},[s("h1",null,"–°–æ–∑–¥–∞–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞")],-1)),s("form",{onSubmit:g(M,["prevent"]),class:"form",id:"form"},[s("div",$,[e[10]||(e[10]=s("label",{for:"username",class:"form-label"},"–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:",-1)),c(s("input",{"onUpdate:modelValue":e[0]||(e[0]=l=>o.username=l),id:"username",type:"text",class:"form-input",placeholder:"–í–≤–µ–¥–∏—Ç–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞–µ—Ç–ª—è",required:""},null,512),[[C,o.username]]),a.username?(i(),t("span",F,n(a.username),1)):d("",!0)]),s("div",I,[e[11]||(e[11]=s("label",{for:"email",class:"form-label"},"–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –ø–æ—á—Ç–∞:",-1)),c(s("input",{"onUpdate:modelValue":e[1]||(e[1]=l=>o.email=l),id:"email",type:"email",class:"form-input",placeholder:"–í–≤–µ–¥–∏—Ç–µ —ç–ª–µ–∫—Ç—Ä–æ–Ω–Ω—É—é –ø–æ—á—Ç—É",required:""},null,512),[[C,o.email]]),a.email?(i(),t("span",J,n(a.email),1)):d("",!0)]),s("div",K,[e[12]||(e[12]=s("label",{for:"password",class:"form-label"},"–ü–∞—Ä–æ–ª—å:",-1)),s("div",G,[c(s("input",{"onUpdate:modelValue":e[2]||(e[2]=l=>o.password=l),type:p.password?"text":"password",id:"password",class:"form-input password-input",placeholder:"–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å",required:""},null,8,H),[[V,o.password]]),s("span",{class:"toggle-password",onClick:e[3]||(e[3]=l=>y("password"))},n(p.password?"üëÅÔ∏è":"üëÅÔ∏è‚Äçüó®Ô∏è"),1)]),a.password?(i(),t("span",Q,n(a.password),1)):d("",!0)]),s("div",W,[e[13]||(e[13]=s("label",{for:"password_confirm",class:"form-label"},"–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–∞—Ä–æ–ª—å:",-1)),s("div",X,[c(s("input",{"onUpdate:modelValue":e[4]||(e[4]=l=>o.password_confirm=l),type:p.password_confirm?"text":"password",id:"password_confirm",class:"form-input password-input",placeholder:"–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –ø–∞—Ä–æ–ª—å",required:""},null,8,Y),[[V,o.password_confirm]]),s("span",{class:"toggle-password",onClick:e[5]||(e[5]=l=>y("password_confirm"))},n(p.password_confirm?"üëÅÔ∏è":"üëÅÔ∏è‚Äçüó®Ô∏è"),1)]),a.password_confirm?(i(),t("span",Z,n(a.password_confirm),1)):d("",!0)]),s("div",ee,[s("label",se,[s("span",null,[e[15]||(e[15]=m(" –Ø —Å–æ–≥–ª–∞—Å–µ–Ω —Å ",-1)),j(h,{to:{name:"LegalPage"},target:"_blank",class:"link",onClick:e[6]||(e[6]=g(()=>{},["stop"]))},{default:R(()=>[...e[14]||(e[14]=[m(" –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ–º ",-1)])]),_:1})])]),c(s("input",{"onUpdate:modelValue":e[7]||(e[7]=l=>o.legal_agree=l),id:"legal_agree",type:"checkbox",class:"form-input"},null,512),[[U,o.legal_agree]]),a.legal_agree?(i(),t("span",oe,n(a.legal_agree),1)):d("",!0)]),s("div",ae,[s("label",re,[s("span",null,[e[17]||(e[17]=m(" –Ø —Å–æ–≥–ª–∞—Å–µ–Ω —Å ",-1)),j(h,{to:{name:"PolicyPage"},target:"_blank",class:"link",onClick:e[8]||(e[8]=g(()=>{},["stop"]))},{default:R(()=>[...e[16]||(e[16]=[m(" –ø–æ–ª–∏—Ç–∏–∫–æ–π –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏ ",-1)])]),_:1})])]),c(s("input",{"onUpdate:modelValue":e[9]||(e[9]=l=>o.policy_agree=l),id:"policy_agree",type:"checkbox",class:"form-input"},null,512),[[U,o.policy_agree]]),a.policy_agree?(i(),t("span",le,n(a.policy_agree),1)):d("",!0)]),s("div",te,[s("div",{class:"g-recaptcha","data-sitekey":q,"data-callback":"onCaptchaVerified","data-expired-callback":"onCaptchaExpired"}),a.captcha?(i(),t("span",ne,n(a.captcha),1)):d("",!0)])],32),s("div",{class:"form-menu button-group"},[e[18]||(e[18]=s("button",{type:"submit",class:"button",form:"form"},"–°–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è",-1)),s("button",{type:"button",onClick:A,class:"button"},"–û—Ç–º–µ–Ω–∞")])])])):(i(),t("div",ie,[...e[20]||(e[20]=[s("div",null,"–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö...",-1)])]))}}};export{ue as default};
